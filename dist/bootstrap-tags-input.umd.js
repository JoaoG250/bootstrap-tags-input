(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";var d=Object.defineProperty;var p=(s,o,a)=>o in s?d(s,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[o]=a;var i=(s,o,a)=>p(s,typeof o!="symbol"?o+"":o,a);class s{constructor({onTagAdded:t=()=>{},onTagRemoved:e=()=>{},initialTags:n=[],rootElementHtmlOptions:l={},inputElementHtmlOptions:r={},tagElementHtmlOptions:m={}}){i(this,"tags");i(this,"rootElement");i(this,"inputElement");i(this,"onTagAdded");i(this,"onTagRemoved");i(this,"rootElementHtmlOptions");i(this,"inputElementHtmlOptions");i(this,"tagElementHtmlOptions");this.onTagAdded=t,this.onTagRemoved=e,this.tags=n,this.rootElementHtmlOptions=l,this.inputElementHtmlOptions=r,this.tagElementHtmlOptions=m,this.rootElement=this.renderRootElement(),this.inputElement=this.renderInputElement(),this.rootElement.appendChild(this.inputElement),this.addEnventListeners(),this.renderInitialTags()}generateUniqueId(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length,l=new Uint8Array(t);return window.crypto.getRandomValues(l),Array.from(l,r=>e[r%n]).join("")}renderRootElement(){const t=document.createElement("div");return t.id=this.rootElementHtmlOptions.id||`bootstrap-tags-input-${this.generateUniqueId()}`,t.className=`bootstrap-tags-input ${this.rootElementHtmlOptions.class}`,t}renderInputElement(){const t=document.createElement("input");return t.id=this.inputElementHtmlOptions.id||`bootstrap-tag-input-${this.generateUniqueId()}`,this.inputElementHtmlOptions.class&&(t.className=this.inputElementHtmlOptions.class),this.inputElementHtmlOptions.placeholder&&(t.placeholder=this.inputElementHtmlOptions.placeholder),t}addEnventListeners(){this.addRootElementEventListener(),this.addInputEventListener()}addRootElementEventListener(){this.rootElement.addEventListener("click",()=>{this.inputElement.focus()})}addInputEventListener(){this.inputElement.addEventListener("keydown",t=>{if(t.key==="Enter"){t.preventDefault();const e=this.inputElement.value.trim();if(e&&!this.tags.includes(e)){this.tags.push(e),this.onTagAdded(e);const n=this.renderTag(e);this.addTag(n)}this.inputElement.value=""}})}addTag(t){this.rootElement.insertBefore(t,this.inputElement)}renderTag(t){const e=document.createElement("span");e.className=`bootstrap-tag badge text-bg-secondary ${this.tagElementHtmlOptions.class}`,e.textContent=t;const n=document.createElement("span");return n.classList.add("bootstrap-tag-remove-btn"),n.onclick=()=>{this.tags=this.tags.filter(l=>l!==t),this.onTagRemoved(t),e.remove()},e.appendChild(n),e}renderInitialTags(){this.tags.forEach(t=>{const e=this.renderTag(t);this.addTag(e)})}}class o{constructor(t){i(this,"inputElement");this.inputElement=t}getTags(){return this.inputElement.value?this.inputElement.value.split(","):[]}setTags(t){this.inputElement.value=t.join(",")}addTag(t){const e=this.getTags();e.push(t),this.setTags(e)}removeTag(t){const e=this.getTags();this.setTags(e.filter(n=>n!==t))}}window.BootstrapTagsInput=s,window.BootstrapInputController=o});
