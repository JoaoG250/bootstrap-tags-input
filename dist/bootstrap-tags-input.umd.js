(function(i){typeof define=="function"&&define.amd?define(i):i()})(function(){"use strict";var h=Object.defineProperty;var u=(i,r,a)=>r in i?h(i,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[r]=a;var s=(i,r,a)=>u(i,typeof r!="symbol"?r+"":r,a);class i{constructor({onTagAdded:t=()=>{},onTagRemoved:e=()=>{},initialTags:n=[],rootElementClass:o="",inputElementClass:d="",tagClass:l="badge text-bg-secondary"}){s(this,"onTagAdded",()=>{});s(this,"onTagRemoved",()=>{});s(this,"tags",[]);s(this,"rootElementId");s(this,"rootElement");s(this,"rootElementClass");s(this,"inputId");s(this,"inputElement");s(this,"inputElementClass");s(this,"tagClass");this.onTagAdded=t,this.onTagRemoved=e,this.tags=n,this.rootElementClass=o,this.inputElementClass=d,this.tagClass=l,this.rootElementId=this.generateUniqueId(),this.rootElement=this.renderRootElement(this.rootElementId),this.inputId=this.generateUniqueId(),this.inputElement=this.renderInput(this.inputId),this.rootElement.appendChild(this.inputElement),this.addEnventListeners(),this.renderInitialTags()}generateUniqueId(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length,o=new Uint8Array(t);return window.crypto.getRandomValues(o),Array.from(o,d=>e[d%n]).join("")}renderRootElement(t){return this.renderElementFromString(`
      <div id="bootstrap-tags-input-${t}" class="bootstrap-tags-input ${this.rootElementClass}"></div>
    `)}renderElementFromString(t){return new DOMParser().parseFromString(t,"text/html").body.firstElementChild}renderInput(t){return this.renderElementFromString(`
      <input id="bootstrap-tag-input-${t}" type="text" class="${this.inputElementClass}">
    `)}addEnventListeners(){this.addRootElementEventListener(),this.addInputEventListener()}addRootElementEventListener(){this.rootElement.addEventListener("click",()=>{this.inputElement.focus()})}addInputEventListener(){this.inputElement.addEventListener("keydown",t=>{if(t.key==="Enter"){t.preventDefault();const e=this.inputElement.value.trim();if(e&&!this.tags.includes(e)){this.tags.push(e),this.onTagAdded(e);const n=this.renderTag(e);this.addTag(n)}this.inputElement.value=""}})}addTag(t){this.rootElement.insertBefore(t,this.inputElement)}renderTag(t){const e=document.createElement("span");e.className=`bootstrap-tag ${this.tagClass}`,e.textContent=t;const n=document.createElement("span");return n.classList.add("bootstrap-tag-remove-btn"),n.onclick=()=>{this.tags=this.tags.filter(o=>o!==t),this.onTagRemoved(t),e.remove()},e.appendChild(n),e}renderInitialTags(){this.tags.forEach(t=>{const e=this.renderTag(t);this.addTag(e)})}}class r{constructor(t){s(this,"inputElement");this.inputElement=t}getTags(){return this.inputElement.value?this.inputElement.value.split(","):[]}setTags(t){this.inputElement.value=t.join(",")}addTag(t){const e=this.getTags();e.push(t),this.setTags(e)}removeTag(t){const e=this.getTags();this.setTags(e.filter(n=>n!==t))}}window.BootstrapTagsInput=i,window.BootstrapInputController=r});
